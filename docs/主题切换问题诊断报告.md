# ä¸»é¢˜åˆ‡æ¢é—®é¢˜è¯Šæ–­æŠ¥å‘Š

> **æ£€æµ‹æ—¶é—´**: 2026-01-27  
> **é—®é¢˜**: ä¸»é¢˜åˆ‡æ¢åé¢œè‰²æ²¡æœ‰æ”¹å˜  
> **çŠ¶æ€**: ğŸ” å·²è¯Šæ–­

---

## ğŸ” é—®é¢˜åˆ†æ

### 1. ä¸»é¢˜åˆ‡æ¢é€»è¾‘ âœ…ï¼ˆæ­£å¸¸ï¼‰

**æ£€æŸ¥ç»“æœ**: 
- âœ… `useTheme.ts` é€»è¾‘æ­£ç¡®
- âœ… ä¼šæ·»åŠ  `theme-light` ç±»åˆ° `<html>`
- âœ… ä¼šè®¾ç½® `data-theme="light"` å±æ€§
- âœ… localStorage æ­£å¸¸ä¿å­˜

**ä»£ç æ£€æŸ¥**:
```typescript
// useTheme.ts - ç¬¬19-30è¡Œ
function applyTheme(theme: ThemeMode) {
    const root = document.documentElement
    root.classList.remove('theme-dark', 'theme-light')
    root.classList.add(`theme-${theme}`)  // âœ… æ·»åŠ ç±»å
    root.setAttribute('data-theme', theme) // âœ… æ·»åŠ å±æ€§
}
```

### 2. CSS å˜é‡å®šä¹‰ âœ…ï¼ˆæ­£å¸¸ï¼‰

**æ£€æŸ¥ç»“æœ**:
- âœ… `design-tokens.scss` å®šä¹‰äº†å®Œæ•´çš„ç™½å¤©æ¨¡å¼å˜é‡
- âœ… ä½¿ç”¨ `:root[data-theme="light"]` é€‰æ‹©å™¨
- âœ… ä½¿ç”¨ `:root.theme-light` é€‰æ‹©å™¨ï¼ˆåŒé‡ä¿é™©ï¼‰

**ä»£ç æ£€æŸ¥**:
```scss
// design-tokens.scss - ç¬¬58-92è¡Œ
:root[data-theme="light"],
:root.theme-light {
  --color-bg-primary: #f5f5f7;      // âœ… ç™½å¤©æ¨¡å¼èƒŒæ™¯
  --color-bg-secondary: #ffffff;
  --color-text-primary: #1c1c1e;   // âœ… ç™½å¤©æ¨¡å¼æ–‡å­—
  // ...
}
```

### 3. é—®é¢˜æ‰€åœ¨ âš ï¸

#### é—®é¢˜1: é€šçŸ¥æ¨ªå¹…ç¡¬ç¼–ç æ¸å˜ âš ï¸

**ä½ç½®**: `DashboardView.vue` ç¬¬301-305è¡Œ

```scss
.page-notification {
  background: linear-gradient(
    90deg,
    rgba(0, 120, 212, 0.08) 0%,     // âŒ ç¡¬ç¼–ç ï¼Œä¸ä¼šéšä¸»é¢˜å˜åŒ–
    rgba(0, 120, 212, 0.04) 100%
  );
}
```

**å½±å“**: ç™½å¤©æ¨¡å¼ä¸‹é€šçŸ¥æ¨ªå¹…èƒŒæ™¯ä¸ä¼šæ”¹å˜

#### é—®é¢˜2: å¯èƒ½çš„æ ·å¼åŠ è½½é¡ºåº âš ï¸

**ä½ç½®**: `main.ts` ç¬¬11-12è¡Œ

```typescript
import './assets/styles/element-dark.scss'  // âŒ å…ˆåŠ è½½
import './assets/styles/main.scss'          // ååŠ è½½
```

**æ½œåœ¨é—®é¢˜**: 
- `element-dark.scss` ä¸­çš„ `:root` å˜é‡å¯èƒ½è¦†ç›– `design-tokens.scss`
- æ ·å¼ä¼˜å…ˆçº§é—®é¢˜

---

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šä¿®å¤é€šçŸ¥æ¨ªå¹…æ¸å˜ï¼ˆç«‹å³æ‰§è¡Œï¼‰

**æ–‡ä»¶**: `DashboardView.vue`

**ä¿®æ”¹å‰**:
```scss
.page-notification {
  background: linear-gradient(
    90deg,
    rgba(0, 120, 212, 0.08) 0%,
    rgba(0, 120, 212, 0.04) 100%
  );
}
```

**ä¿®æ”¹å**:
```scss
.page-notification {
  background: var(--color-notification-bg);
  
  // ç™½å¤©æ¨¡å¼æ¸å˜
  :root[data-theme="light"] &,
  :root.theme-light & {
    background: linear-gradient(
      90deg,
      rgba(0, 120, 212, 0.12) 0%,
      rgba(0, 120, 212, 0.06) 100%
    );
  }
}
```

### æ–¹æ¡ˆäºŒï¼šè°ƒæ•´æ ·å¼åŠ è½½é¡ºåºï¼ˆæ¨èï¼‰

**æ–‡ä»¶**: `main.ts`

**ä¿®æ”¹å‰**:
```typescript
import './assets/styles/element-dark.scss'
import './assets/styles/main.scss'
```

**ä¿®æ”¹å**:
```typescript
import './assets/styles/main.scss'          // âœ… å…ˆåŠ è½½ï¼ˆåŒ…å«è®¾è®¡ä»¤ç‰Œï¼‰
import './assets/styles/element-dark.scss'  // ååŠ è½½ï¼ˆè¦†ç›– Element Plusï¼‰
```

### æ–¹æ¡ˆä¸‰ï¼šæ¸…ç† element-dark.scss ä¸­çš„é‡å¤å˜é‡

**æ–‡ä»¶**: `element-dark.scss`

**é—®é¢˜**: è¯¥æ–‡ä»¶å®šä¹‰äº†ç‹¬ç«‹çš„ `:root` å˜é‡ï¼Œå¯èƒ½ä¸ `design-tokens.scss` å†²çª

**ä¿®æ”¹**: å°†å˜é‡å®šä¹‰æ”¹ä¸ºåªåœ¨æš—é»‘æ¨¡å¼ç”Ÿæ•ˆ

**ä¿®æ”¹å‰**:
```scss
:root {
  --el-bg-color: #25262b;
  // ...
}
```

**ä¿®æ”¹å**:
```scss
:root[data-theme="dark"],
:root.theme-dark {
  --el-bg-color: #25262b;
  // ...
}
```

---

## ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. åœ¨æµè§ˆå™¨æ§åˆ¶å°æµ‹è¯•

æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```javascript
// 1. æ£€æŸ¥ HTML å…ƒç´ çš„ class å’Œ attribute
console.log('Classes:', document.documentElement.className)
console.log('Data-theme:', document.documentElement.getAttribute('data-theme'))

// 2. æ£€æŸ¥ CSS å˜é‡å€¼
const style = getComputedStyle(document.documentElement)
console.log('--color-bg-primary:', style.getPropertyValue('--color-bg-primary'))
console.log('--color-text-primary:', style.getPropertyValue('--color-text-primary'))

// 3. åˆ‡æ¢ä¸»é¢˜ï¼ˆåº”è¯¥çœ‹åˆ°å˜åŒ–ï¼‰
document.documentElement.setAttribute('data-theme', 'light')
console.log('After switch:', style.getPropertyValue('--color-bg-primary'))
```

**é¢„æœŸç»“æœ**:
```
æš—é»‘æ¨¡å¼:
  --color-bg-primary: #1e1e1e
  --color-text-primary: #e4e4e7

ç™½å¤©æ¨¡å¼:
  --color-bg-primary: #f5f5f7
  --color-text-primary: #1c1c1e
```

### 2. æ£€æŸ¥å…ƒç´ å®é™…èƒŒæ™¯è‰²

åœ¨å¼€å‘è€…å·¥å…·ä¸­é€‰ä¸­é¡µé¢å…ƒç´ ï¼ŒæŸ¥çœ‹ Computed æ ·å¼ï¼š

```
.dashboard-view {
  background-color: var(--color-bg-primary)
}

// åº”è¯¥æ˜¾ç¤ºè®¡ç®—åçš„å€¼ï¼Œè€Œä¸æ˜¯ var(...)
```

### 3. å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨

æœ‰æ—¶éœ€è¦æ¸…é™¤ç¼“å­˜ï¼š
- Windows: `Ctrl + F5`
- Mac: `Cmd + Shift + R`

---

## ğŸ“Š è¯Šæ–­æ£€æŸ¥æ¸…å•

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| useTheme é€»è¾‘ | âœ… æ­£å¸¸ | ä¼šæ·»åŠ ç±»åå’Œå±æ€§ |
| design-tokens å®šä¹‰ | âœ… æ­£å¸¸ | æœ‰å®Œæ•´çš„ç™½å¤©æ¨¡å¼å˜é‡ |
| main.scss å¼•å…¥ | âœ… æ­£å¸¸ | å·²å¼•å…¥ design-tokens |
| element-overrides å¼•å…¥ | âœ… æ­£å¸¸ | å·²åœ¨ main.scss ä¸­å¼•å…¥ |
| é€šçŸ¥æ¨ªå¹…æ ·å¼ | âš ï¸ é—®é¢˜ | ä½¿ç”¨ç¡¬ç¼–ç æ¸å˜ |
| æ ·å¼åŠ è½½é¡ºåº | âš ï¸ æ£€æŸ¥ | element-dark å¯èƒ½å†²çª |
| element-dark å˜é‡ | âš ï¸ æ£€æŸ¥ | å¯èƒ½è¦†ç›–ä¸»é¢˜å˜é‡ |

---

## ğŸš€ å¿«é€Ÿä¿®å¤ï¼ˆ3åˆ†é’Ÿï¼‰

### æ­¥éª¤1: ä¿®æ”¹ DashboardView.vue

æ‰¾åˆ°ç¬¬297-361è¡Œçš„ `.page-notification` æ ·å¼ï¼š

```scss
.page-notification {
  display: flex;
  align-items: center;
  padding: var(--spacing-md) var(--spacing-lg);
  background: var(--color-notification-bg);  // âœ… æ”¹ä¸ºä½¿ç”¨å˜é‡
  border-bottom: 1px solid var(--color-border-subtle);
  gap: var(--spacing-md);
  // ... å…¶ä»–æ ·å¼ä¿æŒä¸å˜
}
```

### æ­¥éª¤2: ä¿®æ”¹ main.tsï¼ˆå¯é€‰ï¼‰

è°ƒæ•´æ ·å¼åŠ è½½é¡ºåºï¼š

```typescript
// ç¬¬10-13è¡Œ
import App from './App.vue'

// Styles - è°ƒæ•´é¡ºåº
import './assets/styles/main.scss'          // âœ… å…ˆåŠ è½½
import './assets/styles/element-dark.scss'  // ååŠ è½½
```

### æ­¥éª¤3: åˆ·æ–°æµè§ˆå™¨

- ä¿å­˜æ–‡ä»¶
- åœ¨æµè§ˆå™¨ä¸­æŒ‰ `Ctrl + F5` å¼ºåˆ¶åˆ·æ–°
- ç‚¹å‡»ä¸»é¢˜åˆ‡æ¢æŒ‰é’®æµ‹è¯•

---

## ğŸ” æ ¹æœ¬åŸå› 

ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½æœ¬èº«**å®Œå…¨æ­£å¸¸**ï¼Œé—®é¢˜åœ¨äºï¼š

1. **å°‘æ•°ç»„ä»¶ä½¿ç”¨äº†ç¡¬ç¼–ç é¢œè‰²**ï¼ˆå¦‚é€šçŸ¥æ¨ªå¹…çš„æ¸å˜ï¼‰
2. **æ ·å¼ä¼˜å…ˆçº§é—®é¢˜**ï¼ˆelement-dark.scss ä¸­çš„ `:root` å˜é‡å¯èƒ½è¦†ç›–ä¸»é¢˜å˜é‡ï¼‰
3. **æµè§ˆå™¨ç¼“å­˜**ï¼ˆæœ‰æ—¶éœ€è¦å¼ºåˆ¶åˆ·æ–°ï¼‰

---

## âœ… éªŒè¯æ–¹æ³•

ä¿®å¤åï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// éªŒè¯è„šæœ¬
function checkTheme() {
  const html = document.documentElement
  const theme = html.getAttribute('data-theme')
  const bgColor = getComputedStyle(html).getPropertyValue('--color-bg-primary').trim()
  
  console.log('å½“å‰ä¸»é¢˜:', theme)
  console.log('èƒŒæ™¯è‰²:', bgColor)
  console.log('é¢„æœŸ:', theme === 'dark' ? '#1e1e1e' : '#f5f5f7')
  console.log('åŒ¹é…:', bgColor === (theme === 'dark' ? '#1e1e1e' : '#f5f5f7') ? 'âœ…' : 'âŒ')
}

checkTheme()
```

**é¢„æœŸè¾“å‡º** (ç™½å¤©æ¨¡å¼):
```
å½“å‰ä¸»é¢˜: light
èƒŒæ™¯è‰²: #f5f5f7
é¢„æœŸ: #f5f5f7
åŒ¹é…: âœ…
```

---

## ğŸ“ æ€»ç»“

### é—®é¢˜ç­‰çº§: âš ï¸ ä½ä¼˜å…ˆçº§

- **æ ¸å¿ƒåŠŸèƒ½**: âœ… ä¸»é¢˜åˆ‡æ¢é€»è¾‘æ­£å¸¸
- **å˜é‡ç³»ç»Ÿ**: âœ… design-tokens å®Œæ•´
- **å±€éƒ¨é—®é¢˜**: âš ï¸ å°‘æ•°ç¡¬ç¼–ç é¢œè‰²

### ä¿®å¤æ—¶é—´: 3-5åˆ†é’Ÿ

### å½±å“èŒƒå›´: å°

åªå½±å“å°‘æ•°ä½¿ç”¨ç¡¬ç¼–ç é¢œè‰²çš„ç»„ä»¶ï¼ˆä¸»è¦æ˜¯é€šçŸ¥æ¨ªå¹…ï¼‰

---

**å»ºè®®**: å…ˆæ‰§è¡Œå¿«é€Ÿä¿®å¤ä¸­çš„æ­¥éª¤1ï¼Œå¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œå†æ‰§è¡Œæ­¥éª¤2å’Œ3ã€‚

**æ£€æµ‹äºº**: DeepAgent  
**æ—¥æœŸ**: 2026-01-27
